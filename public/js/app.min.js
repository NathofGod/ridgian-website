angular.module("myApp",["ngCookies","ngResource","ngSanitize","ngRoute","ui.router"]).config(function(a,b,c,d,e){b.when("/",{templateUrl:"views/home",controller:"MainController"}).when("/news",{templateUrl:"build/news.html"}).when("/news/:name",{templateUrl:function(a){return"/build/news/"+a.name+".html"}}),c.html5Mode({enabled:!0,requireBase:!1})});var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown",this.mobileDevice=this.checkMobileBrowser(),$("html").addClass(this.browser+" "+this.version),this.isMobileBrowser?$("html").addClass("mobile-device "+this.mobileDevice):$("html").addClass("not-mobile-device")},searchString:function(a){for(var b=0;b<a.length;b++){var c=a[b].string;if(this.versionSearchString=a[b].subString,-1!==c.indexOf(a[b].subString))return a[b].identity}},searchVersion:function(a){var b=a.indexOf(this.versionSearchString);if(-1!==b){var c=a.indexOf("rv:");return"Trident"===this.versionSearchString&&-1!==c?parseFloat(a.substring(c+3)):parseFloat(a.substring(b+this.versionSearchString.length+1))}},checkMobileBrowser:function(){this.isMobileBrowser=!0;var a=navigator.userAgent||navigator.vendor||window.opera;return a.match(/iPad/i)||a.match(/iPhone/i)||a.match(/iPod/i)?"iOS":a.match(/Android/i)?"Android":a.match(/Windows Phone/i)?"Windows Phone":(this.isMobileBrowser=!1,"Unknown")},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]};BrowserDetect.init(),angular.module("myApp").factory("Auth",function(a,b,c,d){var e=function(a){return angular.isFunction(a)?a:angular.noop},f={};return c.get("token")&&(f=b.get()),{logout:function(){c.remove("token"),f={}},getCurrentUser:function(a){if(0===arguments.length)return f;var b=f.hasOwnProperty("$promise")?f.$promise:f;return d.when(b).then(function(b){return e(a)(b),b},function(){return e(a)({}),{}})},isLoggedIn:function(a){return 0===arguments.length?f.hasOwnProperty("role"):this.getCurrentUser(null).then(function(b){var c=b.hasOwnProperty("role");return e(a)(c),c})},isAdmin:function(a){return 0===arguments.length?"admin"===f.role:this.getCurrentUser(null).then(function(b){var c="admin"===b.role;return e(a)(c),c})},getToken:function(){return c.get("token")}}}),angular.module("myApp").factory("User",function(a){return a("/api/users/:id/:controller",{id:"@_id"},{get:{method:"GET",params:{id:"me"}}})}),angular.module("myApp").controller("LoginController",["$scope","$http","Auth",function(a,b,c){a.oauth=function(){window.location.href="/auth/provider"}}]),angular.module("myApp").controller("MainController",["$scope","$http","Auth",function(a,b,c){}]);
//# sourceMappingURL=app.min.js.map